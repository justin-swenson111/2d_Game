[gd_scene format=4 uid="uid://cqow47bch5ocs"]

[ext_resource type="Texture2D" uid="uid://w5vd61etlotd" path="res://tileset/t.png" id="1_fos0i"]
[ext_resource type="Texture2D" uid="uid://c28iup13032rr" path="res://sprites/Player.png" id="2_fos0i"]
[ext_resource type="Script" uid="uid://cd2dj742ybtwn" path="res://enemy.gd" id="4_3dxm6"]
[ext_resource type="Script" uid="uid://80kl10p8d3vr" path="res://player.gd" id="4_fos0i"]
[ext_resource type="Texture2D" uid="uid://dilk6v51gnj3l" path="res://sprites/Enemy.png" id="5_fos0i"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_fos0i"]
vertices = PackedVector2Array(8, 8, -8, 8, -8, -8, 8, -8)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-8, 8, 8, 8, 8, -8, -8, -8)])
agent_radius = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_3dxm6"]
texture = ExtResource("1_fos0i")
0:0/0 = 0
0:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_fos0i")
1:0/0 = 0
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_3dxm6"]
physics_layer_0/collision_layer = 1
navigation_layer_0/layers = 1
navigation_layer_1/layers = 0
sources/6 = SubResource("TileSetAtlasSource_3dxm6")
tile_proxies/coords_level = [[0, Vector2i(0, 0)], [2, Vector2i(0, 0)], [1, Vector2i(0, 0)], [2, Vector2i(1, 0)], [3, Vector2i(0, 0)], [2, Vector2i(2, 0)], [3, Vector2i(1, 0)], [2, Vector2i(3, 0)], [4, Vector2i(0, 0)], [6, Vector2i(0, 0)], [5, Vector2i(0, 0)], [6, Vector2i(1, 0)], [5, Vector2i(1, 0)], [6, Vector2i(2, 0)]]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_trn2v"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fos0i"]
size = Vector2(20, 62)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3dxm6"]
size = Vector2(10, 31)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lgr22"]
size = Vector2(32, 10)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_03owx"]
size = Vector2(30, 10)

[sub_resource type="CircleShape2D" id="CircleShape2D_fos0i"]

[node name="Node2D" type="Node2D" unique_id=2100994548]

[node name="foreground" type="TileMapLayer" parent="." unique_id=2121356699]
tile_map_data = PackedByteArray("AAD5//z/BgABAAAAAAD5/wEABgABAAAAAAD5/wIABgAAAAAAAAD6//z/BgABAAAAAAD6/wEABgABAAAAAAD6/wIABgAAAAAAAAD7//z/BgABAAAAAAD7/wEABgABAAAAAAD7/wIABgAAAAAAAAD8//z/BgABAAAAAAD8//3/BgABAAAAAAD8//7/BgABAAAAAAD8////BgABAAAAAAD8/wAABgABAAAAAAD8/wEABgABAAAAAAD8/wIABgAAAAAAAAD9//z/BgAAAAAAAAD9//3/BgAAAAAAAAD9//7/BgAAAAAAAAD9////BgAAAAAAAAD9/wAABgAAAAAAAAD9/wEABgAAAAAAAAD9/wIABgAAAAAAAAD+//z/BgABAAAAAAD+//3/BgAAAAAAAAD+//7/BgAAAAAAAAD+////BgAAAAAAAAD+/wAABgAAAAAAAAD+/wEABgAAAAAAAAD+/wIABgAAAAAAAAD///z/BgABAAAAAAD///3/BgAAAAAAAAD///7/BgAAAAAAAAD/////BgAAAAAAAAD//wAABgAAAAAAAAD//wEABgAAAAAAAAD//wIABgAAAAAAAAAAAP3/BgAAAAAAAAAAAP7/BgABAAAAAAAAAP//BgABAAAAAAAAAAAABgABAAAAAAAAAAEABgABAAAAAAAAAAIABgABAAAAAAD5/wMABgAAAAAAAAD6/wMABgAAAAAAAAD7/wMABgAAAAAAAAD8/wMABgAAAAAAAAD9/wMABgAAAAAAAAD+/wMABgAAAAAAAAD//wMABgAAAAAAAAAAAAMABgABAAAAAAABAP3/BgAAAAAAAAABAP7/BgABAAAAAAABAP//BgACAAAAAAABAAIABgACAAAAAAABAAMABgABAAAAAAACAP7/BgABAAAAAAACAAEABgABAAAAAAACAAIABgABAAAAAAACAAMABgABAAAAAAADAPz/BgAAAAAAAAADAP3/BgAAAAAAAAADAP7/BgABAAAAAAADAAEABgABAAAAAAADAAIABgAAAAAAAAADAAMABgAAAAAAAAD4//z/BgAAAAAAAAD4//3/BgABAAAAAAD4//7/BgABAAAAAAD4////BgABAAAAAAD4/wAABgABAAAAAAD4/wEABgABAAAAAAD4/wIABgAAAAAAAAD4/wMABgAAAAAAAAD4//v/BgAAAAAAAAD5//v/BgAAAAAAAAD6//v/BgAAAAAAAAD7//v/BgAAAAAAAAD8//v/BgAAAAAAAAD9//v/BgAAAAAAAAD+//v/BgABAAAAAAADAPv/BgABAAAAAAAEAPz/BgAAAAAAAAAEAP3/BgAAAAAAAAAEAP7/BgABAAAAAAAEAP//BgABAAAAAAAEAAAABgABAAAAAAAEAAEABgABAAAAAAAEAAIABgAAAAAAAAAEAAMABgAAAAAAAAAEAPv/BgAAAAAAAAAAAPn/BgABAAAAAAABAPn/BgABAAAAAAACAPn/BgABAAAAAAADAPr/BgABAAAAAAD///n/BgABAAAAAAD+//n/BgABAAAAAAD9//n/BgAAAAAAAAD8//n/BgAAAAAAAAD7//n/BgAAAAAAAAD6//n/BgAAAAAAAAD5//n/BgAAAAAAAAD4//n/BgAAAAAAAAD4//r/BgAAAAAAAAD5//r/BgAAAAAAAAD6//r/BgAAAAAAAAD7//r/BgAAAAAAAAD8//r/BgAAAAAAAAD9//r/BgAAAAAAAAD+//r/BgABAAAAAAADAPn/BgABAAAAAAAEAPn/BgAAAAAAAAAEAPr/BgAAAAAAAAAFAPr/BgAAAAAAAAAFAPn/BgAAAAAAAAAFAPv/BgAAAAAAAAAFAPz/BgAAAAAAAAAFAP3/BgAAAAAAAAAFAP7/BgAAAAAAAAAFAP//BgAAAAAAAAAFAAAABgAAAAAAAAAFAAEABgAAAAAAAAAFAAIABgAAAAAAAAAFAAMABgAAAAAAAAD6//3/BgACAAAAAAD7//3/BgACAAAAAAD7//7/BgACAAAAAAD7////BgACAAAAAAD6////BgACAAAAAAD6/wAABgACAAAAAAD5/wAABgACAAAAAAD5////BgACAAAAAAD5//7/BgACAAAAAAD6//7/BgACAAAAAAD7/wAABgACAAAAAAACAP//BgACAAAAAAADAP//BgACAAAAAAADAAAABgACAAAAAAACAAAABgACAAAAAAABAAAABgACAAAAAAABAAEABgACAAAAAAACAP3/BgAAAAAAAAACAPz/BgABAAAAAAACAPv/BgABAAAAAAACAPr/BgACAAAAAAABAPr/BgACAAAAAAAAAPr/BgACAAAAAAAAAPv/BgACAAAAAAAAAPz/BgABAAAAAAABAPz/BgABAAAAAAABAPv/BgACAAAAAAD///v/BgACAAAAAAD///r/BgACAAAAAAD5//3/BgABAAAAAAD3//z/BgAAAAAAAAD3//3/BgAAAAAAAAD3//7/BgAAAAAAAAD3////BgAAAAAAAAD3/wAABgAAAAAAAAD3/wEABgAAAAAAAAD3/wIABgAAAAAAAAD3/wMABgAAAAAAAAD2/wMABgAAAAAAAAD2/wIABgAAAAAAAAD2/wEABgAAAAAAAAD2/wAABgAAAAAAAAD2////BgAAAAAAAAD2//7/BgAAAAAAAAD2//3/BgAAAAAAAAD2//z/BgAAAAAAAAD2//v/BgAAAAAAAAD3//v/BgAAAAAAAAD2//r/BgAAAAAAAAD3//r/BgAAAAAAAAD3//n/BgAAAAAAAAD2//n/BgAAAAAAAAD1//n/BgAAAAAAAAD1//r/BgAAAAAAAADz//n/BgAAAAAAAAD0//n/BgAAAAAAAAD0//r/BgAAAAAAAADz//r/BgAAAAAAAADz//v/BgAAAAAAAAD0//v/BgAAAAAAAAD0//z/BgAAAAAAAAD1//z/BgAAAAAAAAD1//v/BgAAAAAAAAD1//3/BgAAAAAAAAD0//3/BgAAAAAAAADz//z/BgAAAAAAAADz//3/BgAAAAAAAADz//7/BgAAAAAAAADz////BgAAAAAAAADz/wAABgAAAAAAAADz/wEABgAAAAAAAAD0/wIABgAAAAAAAAD0/wMABgAAAAAAAADz/wMABgAAAAAAAADz/wIABgAAAAAAAAD1/wIABgAAAAAAAAD1/wEABgAAAAAAAAD1/wAABgAAAAAAAAD1////BgAAAAAAAAD0////BgAAAAAAAAD0//7/BgAAAAAAAAD0/wAABgAAAAAAAAD0/wEABgAAAAAAAAD1/wMABgAAAAAAAAD1//7/BgAAAAAAAAAFAPj/BgAAAAAAAAAEAPj/BgAAAAAAAAADAPj/BgAAAAAAAAACAPj/BgAAAAAAAAABAPj/BgAAAAAAAAAAAPj/BgAAAAAAAAD///j/BgAAAAAAAAD+//j/BgAAAAAAAAD9//j/BgAAAAAAAAD8//j/BgAAAAAAAAD7//j/BgAAAAAAAAD6//j/BgAAAAAAAAD5//j/BgAAAAAAAAD4//j/BgAAAAAAAAD3//j/BgAAAAAAAAD2//j/BgAAAAAAAAD1//j/BgAAAAAAAAD0//j/BgAAAAAAAADz//j/BgAAAAAAAAAGAPr/BgAAAAAAAAAGAPv/BgAAAAAAAAAGAPz/BgAAAAAAAAAGAP3/BgAAAAAAAAAGAPj/BgAAAAAAAAAGAPn/BgAAAAAAAAAGAP7/BgAAAAAAAAAGAP//BgAAAAAAAAAGAAAABgAAAAAAAAAGAAEABgAAAAAAAAAGAAIABgAAAAAAAAAGAAMABgAAAAAAAAAGAAQABgAAAAAAAAAFAAQABgAAAAAAAAAEAAQABgAAAAAAAAADAAQABgAAAAAAAAACAAQABgAAAAAAAAABAAQABgAAAAAAAAAAAAQABgAAAAAAAAD//wQABgAAAAAAAAD+/wQABgAAAAAAAAD9/wQABgAAAAAAAAD8/wQABgAAAAAAAAD7/wQABgAAAAAAAAD6/wQABgAAAAAAAAD5/wQABgAAAAAAAAD4/wQABgAAAAAAAAD3/wQABgAAAAAAAAD2/wQABgAAAAAAAAD1/wQABgAAAAAAAAD0/wQABgAAAAAAAADz/wQABgAAAAAAAAA=")
tile_set = SubResource("TileSet_3dxm6")

[node name="player" type="CharacterBody2D" parent="." unique_id=1750349541 groups=["player"]]
collision_mask = 3
script = ExtResource("4_fos0i")

[node name="PlayerBox" type="CollisionShape2D" parent="player" unique_id=1463224738]
scale = Vector2(0.9, 0.9)
shape = SubResource("RectangleShape2D_trn2v")

[node name="Sprite2D" type="Sprite2D" parent="player" unique_id=1784849466]
visible = false
texture = ExtResource("2_fos0i")

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="player" unique_id=1521031726]
target_desired_distance = 4.0
path_max_distance = 10.0

[node name="leftAtk" type="Area2D" parent="player" unique_id=1254519725]

[node name="CollisionShape2D" type="CollisionShape2D" parent="player/leftAtk" unique_id=1971057546]
position = Vector2(-15, -0.5)
scale = Vector2(0.5, 0.5)
shape = SubResource("RectangleShape2D_fos0i")

[node name="rightAtk" type="Area2D" parent="player" unique_id=263241082]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="player/rightAtk" unique_id=986689203]
position = Vector2(15, -0.5)
shape = SubResource("RectangleShape2D_3dxm6")
disabled = true

[node name="upAtk" type="Area2D" parent="player" unique_id=105409644]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="player/upAtk" unique_id=1999871528]
position = Vector2(0, -15)
shape = SubResource("RectangleShape2D_lgr22")

[node name="downAtk" type="Area2D" parent="player" unique_id=361447322]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="player/downAtk" unique_id=83881766]
position = Vector2(0, 15)
shape = SubResource("RectangleShape2D_03owx")

[node name="Camera2D" type="Camera2D" parent="player" unique_id=1970411111]
zoom = Vector2(4, 4)

[node name="Enemy" type="CharacterBody2D" parent="." unique_id=546027443 groups=["dest"]]
position = Vector2(-150, 0)
collision_layer = 15
script = ExtResource("4_3dxm6")

[node name="EnemyBox" type="CollisionShape2D" parent="Enemy" unique_id=561367108]
scale = Vector2(1.1, 1.1)
shape = SubResource("RectangleShape2D_trn2v")

[node name="Sprite2D" type="Sprite2D" parent="Enemy" unique_id=1728935795]
texture = ExtResource("5_fos0i")

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="Enemy" unique_id=142396287]
target_desired_distance = 4.0
path_max_distance = 10.0
avoidance_enabled = true
radius = 100.0
avoidance_layers = 2
avoidance_mask = 2

[node name="VisibleOnScreenNotifier2D" type="VisibleOnScreenNotifier2D" parent="Enemy" unique_id=1780185543]

[node name="Area2D" type="Area2D" parent="Enemy" unique_id=1229835226]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy/Area2D" unique_id=1751497588]
scale = Vector2(15, 15)
shape = SubResource("CircleShape2D_fos0i")

[connection signal="area_entered" from="player/leftAtk" to="player" method="_on_left_atk_area_entered"]
[connection signal="body_entered" from="player/leftAtk" to="player" method="_on_left_atk_body_entered"]
[connection signal="screen_entered" from="Enemy/VisibleOnScreenNotifier2D" to="Enemy" method="_on_visible_on_screen_notifier_2d_screen_entered"]
[connection signal="screen_exited" from="Enemy/VisibleOnScreenNotifier2D" to="Enemy" method="_on_visible_on_screen_notifier_2d_screen_exited"]
[connection signal="body_entered" from="Enemy/Area2D" to="Enemy" method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="Enemy/Area2D" to="Enemy" method="_on_area_2d_body_exited"]
